<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    var users = [{
        'user': 'barney',
        'active': true
      },
      {
        'user': 'fred',
        'active': false
      },
      {
        'user': 'pebbles',
        'active': false
      }
    ];

    function isEqual(a, b) {
      if (a === b) return true;

      if (a == null || typeof a != "object" ||
        b == null || typeof b != "object")
        return false;

      var propsInA = 0,
        propsInB = 0;

      for (var prop in a)
        propsInA += 1;

      for (var prop in b) {
        propsInB += 1;
        if (!(prop in a) || !isEqual(a[prop], b[prop]))
          return false;
      }

      return propsInA == propsInB;
    }

    function findIndex(ary, predicate, fromIndex = 0) {
      if (predicate instanceof Function) {
        for (let i = fromIndex; i < ary.length; ++i) {
          if (predicate(ary[i], i, ary))
            return i
        }
        return -1
      } else if (predicate instanceof Array) {
        for (let i = fromIndex; i < ary.length; ++i) {
          let obj = ary[i]
          if (obj[predicate[0]] == predicate[1]) {
            return i
          }
        }
        return -1
      } else if (typeof predicate === "string") {
        for (let i = fromIndex; i < ary.length; ++i) {
          let obj = ary[i]
          if (obj[predicate] == true) {
            return i
          }
        }
      } else {
        for (let i = fromIndex; i < ary.length; ++i) {
          let obj = ary[i]
          if (isEqual(obj, predicate)) {
            return i
          }
        }
        return -1
      }
    }
  </script>
</head>

<body>

</body>

</html>
